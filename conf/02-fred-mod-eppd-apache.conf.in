#
# This is the default configuration file for mod_eppd Apache module.
# See mod_eppd's documentation for description of configuration directives.
# Include this file in the main httpd.conf configuration file or
# copy the contents of this file to httpd.conf.
#
# The preferred method is to put EPP in a virtual host.
# Thus, you can continue to run http as usual and additionally, if
# somebody connects to the port @PORT@ on @NSHOST@, EPP protocol is activated
# for that connection.
#

# EPP port, assigned by IANA
Listen @PORT@

#LoadModule corba_module modules/mod_corba.so
LoadModule eppd_module  @MODULE_INSTALLDIR@/mod_eppd.so

<VirtualHost *:@PORT@>
   # mod_corba configuration, mod_corba module must be already installed
   # Activate CORBA module
   CorbaEnable       On
   # Locate CORBA name server (host[:port])
   CorbaNameservice  @NSHOST@
   # Export CORBA objects under aliases for use by other modules
   # e.g. CorbaObject [contextName.]ObjectName alias_string
   # Export the EPP object
   CorbaObject       @OBJECTNAME@ EPP_alias
   # Export the Logger object
   CorbaObject       @LOGGER_OBJECTNAME@ Logger_alias

   # mod_eppd configuration
   # Activate EPP module
   EPPprotocol       On
   # EPP object reference (use the alias exported in mod_corba configuration)
   EPPobject         EPP_alias
   # Logger object reference (use the alias exported in mod_corba configuration)
   EPPlogdObject     Logger_alias
   # Logd mandatory // ???
   EPPlogdMandatory  Off
   # Location of the EPP schema
   EPPschema         "@DATAROOTDIR@/@PACKAGE@/schemas/all.xsd"
   # Name of the server used in the EPP greeting frame
   EPPservername     "EPP server"
   # Location of the log file of the mod_eppd module
   # (If not set, messages are logged to Apache's error log.)
   EPPlog            "@LOCALSTATEDIR@/log/fred-eppd.log"
   # EPP log verbosity (fatal, error, warning, info, debug)
   EPPloglevel       info
   # Validate responses from the mod_eppd
   EPPvalidResponse  Off

   # SSL configuration
   SSLEngine on
   SSLCipherSuite ALL:!ADH:!EXPORT56:RC4+RSA:+HIGH:+MEDIUM:+LOW:+SSLv2:+EXP
   SSLVerifyClient       require
   SSLCertificateFile    @DATAROOTDIR@/@PACKAGE@/ssl/test-cert.pem
   SSLCertificateKeyFile @DATAROOTDIR@/@PACKAGE@/ssl/test-key.pem
   SSLCACertificateFile  @DATAROOTDIR@/@PACKAGE@/ssl/test-cert.pem
</VirtualHost>
